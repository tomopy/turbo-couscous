# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

schedules:
  - cron: "0 0 */14 * *"
    displayName: "Bi-monthly build"
    branches:
      include:
        - master
    always: true

trigger:
- master

jobs:

- job: CPU_Benchmark_1

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 1
      displayName: Run job 1

- job: CPU_Benchmark_2

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 2
      displayName: Run job 2

- job: CPU_Benchmark_3

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 3
      displayName: Run job 3

- job: CPU_Benchmark_4

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 4
      displayName: Run job 4

- job: CPU_Benchmark_5

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 5
      displayName: Run job 5

- job: CPU_Benchmark_6

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 6
      displayName: Run job 6

- job: CPU_Benchmark_7

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 7
      displayName: Run job 7

- job: CPU_Benchmark_8

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 8
      displayName: Run job 8

- job: CPU_Benchmark_9

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 9
      displayName: Run job 9

- job: CPU_Benchmark_10

  timeoutInMinutes: 0

  pool:
    name: Default
    demands: 
      - Agent.OS -equals Linux
  steps: 
    - bash: bash cpu-benchmarking-env.sh 10
      displayName: Run job 10

- job: GPU_Benchmark_1

  timeoutInMinutes: 0

  pool:
    name: Default
    demands:
      - CUDA_VERSION
      - Agent.OS -equals Linux

  steps: 
    - bash: bash gpu-benchmarking-env.sh 1
      displayName: Run job 1

- job: GPU_Benchmark_2

  timeoutInMinutes: 0

  pool:
    name: Default
    demands:
      - CUDA_VERSION
      - Agent.OS -equals Linux

  steps: 
    - bash: bash gpu-benchmarking-env.sh 2
      displayName: Run job 2

  